<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방송통신대 학습 진도 관리</title>
    <link rel="stylesheet" href="../src/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <header class="header">
            <div class="container">
                <h1 class="logo">📚 KNOU Tracker</h1>
                <nav class="nav">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">대시보드</a>
                    <a href="#register" class="nav-link" data-page="register">신규 등록</a>
                    <a href="#admin" class="nav-link" data-page="admin">관리</a>
                </nav>
            </div>
        </header>

        <main class="main">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="container">
                    <div class="dashboard-header">
                        <h2>학습 진도 현황</h2>
                        <div class="stats-summary">
                            <div class="stat-card">
                                <div class="stat-value">5</div>
                                <div class="stat-label">총 학생 수</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">68%</div>
                                <div class="stat-label">평균 진도율</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="student-grid" id="student-grid">
                        <!-- Student cards will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Student Detail Page -->
            <div id="student-detail-page" class="page">
                <div class="container">
                    <div class="student-header">
                        <button class="back-btn" onclick="showPage('dashboard')">← 돌아가기</button>
                        <div class="student-info">
                            <h2 id="student-name">학생 이름</h2>
                            <div class="student-stats">
                                <div class="overall-progress">
                                    <div class="progress-circle">
                                        <svg class="progress-ring" width="120" height="120">
                                            <circle class="progress-ring-circle" cx="60" cy="60" r="50"></circle>
                                        </svg>
                                        <div class="progress-text">
                                            <span class="progress-percentage">0%</span>
                                            <span class="progress-label">전체 진도</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="course-list" id="course-list">
                        <!-- Course progress will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Register Page -->
            <div id="register-page" class="page">
                <div class="container">
                    <div class="register-header">
                        <h2>신규 사용자 등록</h2>
                        <p>학습 진도를 관리하기 위해 필요한 정보를 입력해주세요.</p>
                    </div>

                    <div class="register-form-container">
                        <form id="register-form" class="register-form">
                            <div class="form-group">
                                <label for="register-name">이름 *</label>
                                <input type="text" id="register-name" name="name" required placeholder="이름을 입력하세요">
                            </div>

                            <div class="form-group">
                                <label for="register-department">학과 *</label>
                                <select id="register-department" name="department" required onchange="app.loadCoursesByDepartment()">
                                    <option value="">학과를 선택하세요</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>수강 과목 선택 *</label>
                                <div id="course-selection" class="course-selection">
                                    <p class="course-selection-note">학과를 먼저 선택해주세요.</p>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn-primary">등록하기</button>
                                <button type="button" class="btn-secondary" onclick="app.resetRegisterForm()">초기화</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Admin Page -->
            <div id="admin-page" class="page">
                <div class="container">
                    <h2>관리 패널</h2>
                    
                    <div class="admin-tabs">
                        <button class="tab-btn active" onclick="showAdminTab('users')">학생 관리</button>
                        <button class="tab-btn" onclick="showAdminTab('courses')">과목 관리</button>
                    </div>

                    <!-- Users Tab -->
                    <div id="admin-users" class="admin-tab active">
                        <div class="admin-section">
                            <h3>새 학생 추가</h3>
                            <form id="add-user-form" class="form">
                                <input type="text" id="user-name" placeholder="학생 이름" required>
                                <button type="submit">추가</button>
                            </form>
                        </div>
                        
                        <div class="admin-section">
                            <h3>학생 목록</h3>
                            <div id="user-list" class="user-list">
                                <!-- User list will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Courses Tab -->
                    <div id="admin-courses" class="admin-tab">
                        <div class="admin-section">
                            <h3>새 과목 추가</h3>
                            <form id="add-course-form" class="form">
                                <input type="text" id="course-code" placeholder="과목 코드 (예: CS101)" required>
                                <input type="text" id="course-name" placeholder="과목명" required>
                                <select id="course-department" required>
                                    <option value="">학과 선택</option>
                                    <option value="통계·데이터">통계·데이터</option>
                                    <option value="컴퓨터">컴퓨터</option>
                                </select>
                                <input type="number" id="course-lesson-count" placeholder="수업수" min="1" max="20" value="15" required>
                                <button type="submit">추가</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>강의 추가</h3>
                            <form id="add-lesson-form" class="form">
                                <select id="lesson-course-select" required>
                                    <option value="">과목 선택</option>
                                </select>
                                <input type="text" id="lesson-name" placeholder="강의명" required>
                                <button type="submit">강의 추가</button>
                            </form>
                        </div>

                        <div class="admin-section">
                            <h3>과목별 강의 목록</h3>
                            <div id="course-tree" class="course-tree">
                                <!-- Course tree will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../src/data.js"></script>
    <script src="../src/app.js"></script>
</body>
</html>